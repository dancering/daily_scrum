<head>
    <title>daily_scrum</title>
    <link href='http://fonts.googleapis.com/css?family=Lora' rel='stylesheet' type='text/css'>
</head>
<body>
    {{> loginButtons}}
    {{> main}}

</body>
<template name="main">
    {{# if loggedIn}}
        {{# if hasGroup}}
            {{> hello}}
            {{> task}}
            {{> calendar}}
        {{else}}
            <h1>Choose your group or create your own!</h1>
            {{> createGroup}}
            {{> joinGroup}}
        {{/if}}

    {{else}}
        <h1>Daily scrum</h1>
    {{/if}}
</template>

<template name="hello">
    <h1>{{groupName}} Write down what you have done {{date}}!</h1>
    <input type="text" placeholder="Email address" />
    <input type="button" value="Invite" />
</template>

<template name="task">
    {{#each task}}
        <p>{{> task_item}}</p>
    {{/each}}
    <p>Total time: {{humanTotalTime}}</p>
    <input class="new_item" type="text" placeholder="What you have done?" />
    <input type="button" value="Add task" />
</template>

<template name="task_item">
    <div class="task_item">
        <div class="remove">Remove</div>
        {{# if editing}}
            <input type="text" value="{{name}}" />
        {{else}}
            <p>Time: {{humanTime}}, {{name}} by {{owner}}</p>
        {{/if}}
    </div>
</template>

<template name="createGroup">
    <h2>Create your group</h2>
    <input type="text" placeholder="Name your group"/>
    <input type="button" value="Create" />
</template>

<template name="joinGroup">
    <h2>Join this group!</h2>
    {{#each invitations}}
        {{> invitationItem}}
    {{/each}}
</template>

<template name="invitationItem">
    <div>Invitation to {{groupName}} <input type="button" value="Join" /></div>
</template>

<template name="calendar">
  <div>
    <h2>{{month}}</h2>
    <table>
      <tr>
        {{#each weekDays}}
          <th>{{day}}</th>
        {{/each}}
      </tr>
      {{#each weeksOfMonth}}
        <tr>
          {{#each daysOfWeek}}
            {{> calendarDay}}
          {{/each}}
        </tr>
      {{/each}}
    </table>
  </div>
</template>

<template name="calendarDay">
  {{# if selected}}
    <td class="selected">{{date}}</td>
  {{else}}
    <td>{{date}}</td>
  {{/if}}
</template>
