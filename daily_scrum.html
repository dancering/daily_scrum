<head>
  <title>daily_scrum</title>
  <link href='http://fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet' type='text/css'>
  <link href='http://fonts.googleapis.com/css?family=Lato' rel='stylesheet' type='text/css'>
</head>
<body>
  <div class="navbar navbar-default" role="navigation">
    <div class="container">
      <div class="navbar-header">
          <a class="navbar-brand" href="#">Daily scrum</a>
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target=".navbar-collapse">
              <span class="sr-only">Toggle navigation</span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
          </button>
      </div>
      <div class="navbar-collapse collapse">
          <ul class="nav navbar-nav">
              <li class="active"><a href="#about">About</a></li>
          </ul>
          <ul class="nav navbar-nav navbar-right">
              {{> loginButtons}}
          </ul>
      </div>
    </div>
  </div>
  {{> main}}
</body>

<template name="main">
  {{# if loggedIn}}
    <div class="container">
      {{# if hasGroup}}
          {{> hello}}
          {{> task}}
          {{> calendar}}
      {{else}}
          <div class="row">
            <div class="col-md-offset-2 col-md-8">
              <h1>Join existing group or create your own!</h1>
            </div>
          </div>
            {{> joinGroup}}
            {{> createGroup}}
      {{/if}}
    </div>
  {{else}}
    <div class="jumbotron">
      <div class="container">
        <h1>Daily scrum</h1>
        <p>Track what your team got done. Be productivity hero.</p>
        <p></p>
        <a class="btn btn-primary btn-lg signup-button" role="button">Start using it</a>
      </div>
    </div>
    <div class="container">
      <div class="row">
        <div class="col-md-4 col-lg-4">
          <h2>Stay informed</h2>
          <p>We send a daily email asking what have you done today.</p>
          <p>Reports are sent to everyone on a team.</p>
          <p>Stay in sync, collaborate better and save time on status meetings.</p>
        </div>
        <div class="col-md-4 col-lg-4">
          <h2>Prioritize/optimize better</h2>
          <p>Time is the most precious resource.</p>
          <p>Use metrics to optimize how your team spend it.</p>
          <p>Automate routine chores, avoid timesinks, be the most productive.</p>
        </div>
        <div class="col-md-4 col-lg-4">
          <h2>Data-driven</h2>
          <p>We collect your done items automatically.</p>
          <p>Use GitHub, Jira, Google Calendar and other integrations... (FUTURE)</p>
        </div>

      </div>
    </div>
  {{/if}}
</template>

<template name="hello">
    <h1>{{groupName}} Write down what you have done {{date}}!</h1>
    <input type="text" placeholder="Email address" />
    <input type="button" value="Invite" />
</template>

<template name="task">
    {{#each task}}
        <p>{{> taskItem}}</p>
    {{/each}}
    <p>Total time: {{humanTotalTime}}</p>
    <input class="new_item" type="text" placeholder="What you have done?" />
    <input type="button" value="Add task" />
</template>

<template name="taskItem">
    <div class="task_item">
        <div class="remove">Remove</div>
        {{# if editing}}
            <input type="text" value="{{name}}" />
        {{else}}
            <p>Time: {{humanTime}}, {{name}} by {{owner}}</p>
        {{/if}}
    </div>
</template>

<template name="createGroup">
    <div class="row">
        <div class="col-md-offset-2 col-md-3">
            <h2>Create your group</h2>
        </div>
        <div class="col-md-7 create-panel">
            <input type="text" class="insert-text" placeholder=" Name your group"/>
            <input type="button" value="Create" class="btn btn-success btn-lg create-button"/>
        </div>
    </div>
</template>

<template name="joinGroup">
  <div class="row">
    <div class="col-md-offset-2 col-md-8">
      {{#if hasInvitation}}
        <h2>Your invitations:</h2>
        {{#each invitations}}
          {{> invitationItem}}
        {{/each}}
      {{else}}
         <h2>Ask someone to invite you or create your own group.</h2>
      {{/if}}
    </div>
  </div>
</template>

<template name="invitationItem">
    <div>Invitation to Group {{groupName}} from {{sender}}<input type="button" value="Join" /></div>
</template>

<template name="calendar">
  <div>
    <h2>{{month}}</h2>
    <table>
      <tr>
        {{#each weekDays}}
          <th>{{day}}</th>
        {{/each}}
      </tr>
      {{#each weeksOfMonth}}
        <tr>
          {{#each daysOfWeek}}
            {{> calendarDay}}
          {{/each}}
        </tr>
      {{/each}}
    </table>
  </div>
</template>

<template name="calendarDay">
  {{# if selected}}
    <td class="selected">{{date}}</td>
  {{else}}
    <td>{{date}}</td>
  {{/if}}
</template>
